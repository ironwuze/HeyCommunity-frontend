<ion-view cache-view="false"  view-title="{{ 'CREATE_TIMELINE' | translate }}" hide-tabs>
    <ion-nav-buttons side="right">
        <button ng-click="store()" class="button back-button buttons  button-clear header-item" style="overflow:hidden">
            <span class="back-text" style="transform: translate3d(0px, 0px, 0px);">{{ 'PUBLISH' | translate }}</span>
        </button>
    </ion-nav-buttons>

    <ion-content id="module-timeline">
        <form name="ngForm" ng-submit="store()" style="height:100%;">
            <div class="list list-inset">
                <label class="item item-input item-stacked-label">
                    <span class="input-label">{{ 'CONTENT' | translate }}</span>
                    <textarea ng-model="Timeline.content" rows="5" placeholder="{{ 'CONTENT' | translate }}" required></textarea>
                </label>

                <label class="item item-input hide">
                    <span class="input-label">{{ 'PICTURE' | translate }}</span>
                    <input style="line-height:19px; color:#444;" type="file" ngf-select ng-model="Timeline.pic" name="avatar" ngf-accept="'image/*'" ng-change="picValueChanged()" ngf-change="picChanged()" ngf-resize="{width: 1000}" required ngf-max-size="20MB">
                </label>

                <div class="item">
                    <img ng-click="selectPic()" ng-if="Timeline.pic" style="background-color:#ddd; width:100%;" ng-src="{{ Timeline.pic | ngfDataUrl }}">

                    <img ng-click="selectPic()" ng-if="!Timeline.pic" style="background-color:#ddd; width:40px; height:40px;">
                    <div ng-if="!Timeline.pic" ng-click="selectPic()" style="position:absolute; top:26px; width:40px; text-align:center;">
                        <i class="icon ion-camera" style="font-size:20px;"></i>
                    </div>

                    <div ng-if="Timeline.pic" ng-click="selectPic()" style="position:absolute; top:50%; width:100%; text-align:center; padding-right:32px;">
                        <i class="icon ion-ios-reverse-camera" style="font-size:50px; color:#f00"></i>
                    </div>
                </div>

            </div>

            <div class="padding hide">
                <button ng-disabled="ngForm.$invalid" type="submit" class="button button-positive button-block">{{ 'PUBLISH' | translate }}</button>
            </div>
        </form>
    </ion-content>
</ion-view>
